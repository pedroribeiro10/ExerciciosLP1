//Exercício 1

#include <stdio.h>
#include <string.h>
 
void main () {
	int i;
	char frase[26];
	printf("Escreva uma string: ");
	scanf(" %25[^\n]", &frase);
	FILE* arquivo;
	arquivo = fopen("teste.txt", "w");
	for (i=0; i<strlen(frase); i++) {
		fputc(frase[i] , arquivo);
	}
	fclose(arquivo);
}

//Exercício 2 (SOMENTE O QUE FOI ADICIONADO AO PRIMEIRO EXERCICIO)

arquivo = fopen("teste.txt", "r");
	char novo[26];
	for (i=0; i<strlen(frase);i++) {
		novo[i]=fgetc(arquivo);
	}
	novo[i]='\0';
	fclose(arquivo);
	printf("A nova string é: %s", novo);
}


//Exercício 3

Ao escrever: Não deve ser escrito o final '\0' pois ele não faz parte do texto.
Ao ler: Deve adicionar o '\0' manualmente para indicar o fim da string.

//Exercício 4

#include <stdio.h>
#include <string.h>

void main () {
	char frases[5][26];
	int i , j;
	FILE* arq;
	char nomeArquivo[20];
	for (i=0;i<5;i++) {
		printf("Escreva a string %d: ", i+1);
		scanf(" %25[^\n]", frases[i]);
		while (getchar() != '\n');
	}
	for (i=0;i<5;i++) {
		sprintf(nomeArquivo,"testando%d.txt", i+1);
		arq = fopen(nomeArquivo, "w");
		for (j=0;j<strlen(frases[i]);j++) {
			fputc(frases[i][j], arq);
		}
	}
	fclose(arq);
	printf("Código executado com sucesso!\n");
}



//Exercício 5

-Alteração do exercício 1 (com a função):

#include <stdio.h>
#include <string.h>

void escreva_string(FILE* f, char* str) {
	int i;
	for (i=0; i<strlen(str); i++) {
		fputc(str[i] , f);
	}
	fclose(f);
}

void main () {
	FILE* arquivo;
	char texto[26];
	arquivo = fopen("arquivoFunçao.txt", "w");
	printf("Esreva uma frase: ");
	scanf(" %25[^\n]", texto);
	escreva_string(arquivo, texto);
	printf("Programa concluído com sucesso!");
}


-Alteração do exercício 4 (com a função):

#include <stdio.h>
#include <string.h>

void escreva_string(FILE* f, char str[][26]) {
	int i,j;
	char nome_arquivo[20];
	for (i=0; i<5;i++) {
		sprintf(nome_arquivo, "string%d.txt", i+1);
		f = fopen(nome_arquivo, "w");
		for (j=0;j<strlen(str[i]); j++) {
			fputc(str[i][j], f);
		}
		fclose(f);
	}
}

void main () {
	FILE* arquivo;
	char textos[5][26];
	for (int i=0; i<5; i++) {
		printf("Escreva a frase %d: ", i+1);
		scanf(" %25[^\n]", textos[i]);
		while (getchar() != '\n');
	}
	escreva_string(arquivo, textos);
}

//Exercicio 6

-Não houve nenhuma mudança no comportamento pois estou usando apenas texto sem estruturas e outros fatores que interfiram diretamente.

//Exercicio 7

#include <stdio.h>
#include <string.h>

typedef struct Pessoa {
	int idade;
	char nome[64];
	int peso;
};

void preencherPessoa (struct Pessoa *p) {
	printf("Nome: ");
	scanf(" %63[^\n]", p->nome);
	
	printf("Idade: ");
	scanf("%d", &p->idade);
	
	printf("Peso: ");
	scanf("%d", &p->peso);	 
}

void main () {
	struct Pessoa pessoas[10];
	for (int i=0;i<10;i++) {
		printf("Pessoa %d:\n", i+1);
		preencherPessoa(&pessoas[i]);
	}
	FILE* arquivo;
	arquivo = fopen("structs.txt", "wb");
	for (int i=0;i<10;i++) {
		fwrite(&pessoas[i], sizeof(struct Pessoa), 1, arquivo);
	}
	fclose(arquivo);

	arquivo = fopen("structs.txt", "rb");
	for (int i=0;i<10;i++) {
		fread(&pessoas[i], sizeof(struct Pessoa), 1, arquivo);
	}
	fclose(arquivo);

	for (int i=0;i<10;i++) {
		printf("Pessoa %d:\n", i+1);
		printf("Nome: %s\n", pessoas[i].nome);
		printf("Idade: %d\n", pessoas[i].idade);
		printf("Peso: %d\n", pessoas[i].peso);
	}	
}

//Exercicio 8

-Não tem relação entre o tamanho do nome de uma pessoa com o tamanho do arquivo pois independente da quantidade de caracteres, o vetor já está 
definido para 64 caracteres, então o espaço já é definido sem mesmo saber o nome e seu tamanho.




